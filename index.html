<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>LGSC Election Results</title>
  <style>
   body {
  font-family: 'Segoe UI', sans-serif;
  background: #f5f7fa;
  color: #333;
  padding: 1rem;
  margin: 0;
   }

h1 {
  text-align: center;
  margin-bottom: 2rem;
  font-size: 1.8rem;
}

.section {
  margin-bottom: 3rem;
}

.team-container, .card-container {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: center;
}

.card {
  background: white;
  border-radius: 1rem;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  overflow: hidden;
  width: 250px;
  text-align: center;
  flex: 0 1 auto;
}

.card img {
  width: 100%;
  height: 220px;
  object-fit: cover;
}

.card h3 {
  margin: 0.5rem 0;
}

.position-title {
  font-size: 1.1rem;
  margin-top: 0.5rem;
  font-weight: bold;
}

.percentage {
  font-size: 1rem;
  margin: 0.5rem 0 1rem;
}

.percentage.green {
  color: green;
}

.percentage.red {
  color: red;
}

.bar-container {
  width: 80%;
  height: 10px;
  background: #ddd;
  margin: 0 auto 1rem;
  border-radius: 5px;
}

.bar {
  height: 100%;
  background: #4CAF50;
  border-radius: 5px;
}

button {
  display: block;
  margin: 2rem auto;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  border: none;
  background-color: #007bff;
  color: white;
  border-radius: 5px;
  cursor: pointer;
}

button:hover {
  background-color: #0056b3;
}

/* üåê Mobile responsiveness */
@media (max-width: 768px) {
  .card {
    width: 100%;
    max-width: 90vw;
  }

  .bar-container {
    width: 90%;
  }

  h1 {
    font-size: 1.5rem;
  }

  .position-title {
    font-size: 1rem;
  }

  .percentage {
    font-size: 0.95rem;
  }

  button {
    width: 90%;
    font-size: 1rem;
  }
}
  </style>
</head>
<body>
  <h1>üó≥Ô∏è LGSC Election Results</h1>

  <div id="results"></div>
  <button onclick="loadVotes()">üîÑ Update Results</button>

  <script>
    const API_URL = "YOUR_WEB_APP_URL_HERE"; // replace this

    const presidentTeams = {
      "Team A": {
        name: "Team A",
        image: "images/team1.jpg"
      },
      "Team B": {
        name: "Team B",
        image: "images/team2.jpg"
      }
    };

    async function loadVotes() {
      const res = await fetch(API_URL);
      const data = await res.json();
      const container = document.getElementById('results');
      container.innerHTML = "";

      for (let position in data) {
        const section = document.createElement('div');
        section.className = 'section';
        
        const title = document.createElement('h2');
        title.textContent = position;
        section.appendChild(title);

        const cardsWrapper = document.createElement('div');
        cardsWrapper.className = position.includes("President") ? 'team-container' : 'card-container';

        data[position].forEach(entry => {
          const card = document.createElement('div');
          card.className = 'card';

          const name = entry.candidate;
          let imagePath;

          if (position.includes("President")) {
            imagePath = presidentTeams[name]?.image || "images/default.jpg";
          } else {
            imagePath = `images/${name.toLowerCase().replace(/ /g, "-")}.jpg`;
          }

          card.innerHTML = `
            <img src="${imagePath}" alt="${name}">
            <div class="position-title">${name}</div>
            ${position.includes("President") ? `
              <div class="percentage">${entry.percentage}% (${entry.votes} votes)</div>
              <div class="bar-container">
                <div class="bar" style="width: ${entry.percentage}%;"></div>
              </div>
            ` : `
              <div class="percentage ${name.toLowerCase() === 'yes' && entry.percentage >= 50 ? 'green' : ''}${name.toLowerCase() === 'no' && entry.percentage >= 50 ? 'red' : ''}">
                ${entry.percentage}% (${entry.votes} votes)
              </div>
              <div class="bar-container">
                <div class="bar" style="width: ${entry.percentage}%; background-color: ${name.toLowerCase() === 'yes' ? '#4CAF50' : '#f44336'}"></div>
              </div>
            `}
          `;
          cardsWrapper.appendChild(card);
        });

        section.appendChild(cardsWrapper);
        container.appendChild(section);
      }
    }
  </script>
</body>
</html>